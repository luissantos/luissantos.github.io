(function(a){typeof define=='function'&&define.amd?define(['jquery'],a):a(jQuery)})(function(c,e){var v=6,a=c.event.add,b=c.event.remove,g=function(a,b,d){c.event.trigger(b,d,a)},L=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),j={textarea:!0,input:!0,select:!0,button:!0},d={move:'mousemove',cancel:'mouseup dragstart',end:'mouseup'},f={move:'touchmove',cancel:'touchend',end:'touchend'};function K(e){var c=e,a=!1,b=!1;function d(e){a?(c(),L(d),b=!0,a=!1):b=!1}this.kick=function(c){a=!0,b||d()},this.end=function(d){var e=c;if(!d)return;b?(c=a?function(){e(),d()}:d,a=!0):d()}}function I(){return!0}function m(){return!1}function n(a){a.preventDefault()}function o(a){if(j[a.target.tagName.toLowerCase()])return;a.preventDefault()}function H(a){return a.which===1&&!a.ctrlKey&&!a.altKey}function h(a,c){var b,d;if(a.identifiedTouch)return a.identifiedTouch(c);for(b=-1,d=a.length;++b<d;)if(a[b].identifier===c)return a[b]}function r(c,b){var a=h(c.changedTouches,b.identifier);if(!a)return;if(a.pageX===b.pageX&&a.pageY===b.pageY)return;return a}function E(b){var c;if(!H(b))return;c={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:b.timeStamp},a(document,d.move,t,c),a(document,d.cancel,u,c)}function t(a){var b=a.data;i(a,b,a,A)}function u(a){A()}function A(){b(document,d.move,t),b(document,d.cancel,u)}function C(c){var b,d;if(j[c.target.tagName.toLowerCase()])return;b=c.changedTouches[0],d={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:c.timeStamp,identifier:b.identifier},a(document,f.move+'.'+b.identifier,x,d),a(document,f.cancel+'.'+b.identifier,y,d)}function x(a){var b=a.data,c=r(a,b);if(!c)return;i(a,b,c,z)}function y(a){var b=a.data,c=h(a.changedTouches,b.identifier);if(!c)return;z(b.identifier)}function z(a){b(document,'.'+a,x),b(document,'.'+a,y)}function i(e,a,b,f){var c=b.pageX-a.startX,d=b.pageY-a.startY;if(c*c+d*d<v*v)return;D(e,a,b,c,d,f)}function B(){return this._handled=I,!1}function w(a){a._handled()}function D(c,a,h,e,f,i){var j=a.target,b,d;b=c.targetTouches,d=c.timeStamp-a.timeStamp,a.type='movestart',a.distX=e,a.distY=f,a.deltaX=e,a.deltaY=f,a.pageX=h.pageX,a.pageY=h.pageY,a.velocityX=e/d,a.velocityY=f/d,a.targetTouches=b,a.finger=b?b.length:1,a._handled=B,a._preventTouchmoveDefault=function(){c.preventDefault()},g(a.target,a),i(a.identifier)}function s(a){var b=a.data.timer;a.data.touch=a,a.data.timeStamp=a.timeStamp,b.kick()}function k(a){var c=a.data.event,d=a.data.timer;G(),q(c,d,function(){setTimeout(function(){b(c.target,'click',m)},0)})}function G(a){b(document,d.move,s),b(document,d.end,k)}function p(a){var b=a.data.event,d=a.data.timer,c=r(a,b);if(!c)return;a.preventDefault(),b.targetTouches=a.targetTouches,a.data.touch=c,a.data.timeStamp=a.timeStamp,d.kick()}function l(a){var b=a.data.event,c=a.data.timer,d=h(a.changedTouches,b.identifier);if(!d)return;J(b),q(b,c)}function J(a){b(document,'.'+a.identifier,p),b(document,'.'+a.identifier,l)}function P(a,b,d,e){var c=d-a.timeStamp;a.type='move',a.distX=b.pageX-a.startX,a.distY=b.pageY-a.startY,a.deltaX=b.pageX-a.pageX,a.deltaY=b.pageY-a.pageY,a.velocityX=.3*a.velocityX+.7*a.deltaX/c,a.velocityY=.3*a.velocityY+.7*a.deltaY/c,a.pageX=b.pageX,a.pageY=b.pageY}function q(a,c,b){c.end(function(){return a.type='moveend',g(a.target,a),b&&b()})}function M(b,c,d){return a(this,'movestart.move',w),!0}function N(a){return b(this,'dragstart drag',n),b(this,'mousedown touchstart',o),b(this,'movestart',w),!0}function O(b){if(b.namespace==="move"||b.namespace==="moveend")return;a(this,'dragstart.'+b.guid+' drag.'+b.guid,n,e,b.selector),a(this,'mousedown.'+b.guid,o,e,b.selector)}function F(a){if(a.namespace==="move"||a.namespace==="moveend")return;b(this,'dragstart.'+a.guid+' drag.'+a.guid),b(this,'mousedown.'+a.guid)}c.event.special.movestart={setup:M,teardown:N,add:O,remove:F,_default:function(b){var h,c;if(!b._handled())return;function i(a){P(h,c.touch,c.timeStamp),g(b.target,h)}h={target:b.target,startX:b.startX,startY:b.startY,pageX:b.pageX,pageY:b.pageY,distX:b.distX,distY:b.distY,deltaX:b.deltaX,deltaY:b.deltaY,velocityX:b.velocityX,velocityY:b.velocityY,timeStamp:b.timeStamp,identifier:b.identifier,targetTouches:b.targetTouches,finger:b.finger},c={event:h,timer:new K(i),touch:e,timeStamp:e},b.identifier===e?(a(b.target,'click',m),a(document,d.move,s,c),a(document,d.end,k,c)):(b._preventTouchmoveDefault(),a(document,f.move+'.'+b.identifier,p,c),a(document,f.end+'.'+b.identifier,l,c))}},c.event.special.move={setup:function(){a(this,'movestart.move',c.noop)},teardown:function(){b(this,'movestart.move',c.noop)}},c.event.special.moveend={setup:function(){a(this,'movestart.moveend',c.noop)},teardown:function(){b(this,'movestart.moveend',c.noop)}},a(document,'mousedown.move',E),a(document,'touchstart.move',C),typeof Array.prototype.indexOf=='function'&&function(c,d){for(var a=["changedTouches","targetTouches"],b=a.length;b--;)c.event.props.indexOf(a[b])===-1&&c.event.props.push(a[b])}(c)})