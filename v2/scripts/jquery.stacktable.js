(function(a){a.fn.stacktable=function(c){var d=this,e={id:'stacktable small-only',hideOriginal:!0},b=a.extend({},e,c);return d.each(function(){var d=a('<table class="'+b.id+'"><tbody></tbody></table>'),c;typeof b.myClass!==void 0&&d.addClass(b.myClass),c='',$table=a(this),$table.addClass('stacktable large-only'),$topRow=$table.find('tr').eq(0),$table.find('tr').each(function(b,d){b===0||a(this).find('td,th').each(function(b,d){b===0?c+='<tr class="st-space"><td></td><td></td></tr><tr class="st-new-item"><td class="st-key"></td><td class="st-val st-head-row">'+a(this).html()+'</td></tr>':a(this).html()!==''&&(c+='<tr>',$topRow.find('td,th').eq(b).html()?c+='<td class="st-key">'+$topRow.find('td,th').eq(b).html()+'</td>':c+='<td class="st-key"></td>',c+='<td class="st-val">'+a(this).html()+'</td>',c+='</tr>')})}),d.append(a(c)),$table.before(d),b.hideOriginal||$table.show()})}})(jQuery)