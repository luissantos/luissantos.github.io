(function(a){a.fn.tipTip=function(f){var g={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"top",delay:80,fadeIn:200,fadeOut:50,attribute:"title",content:!1,enter:function(){},exit:function(){}},b=a.extend(g,f),c,e,d;return a("#tiptip_holder").length<=0?(c=a('<div id="tiptip_holder" style="max-width:'+b.maxWidth+';"></div>'),e=a('<div id="tiptip_content"></div>'),d=a('<div id="tiptip_arrow"></div>'),a("html").append(c.html(e).prepend(d.html('<div id="tiptip_arrow_inner"></div>')))):(c=a("#tiptip_holder"),e=a("#tiptip_content"),d=a("#tiptip_arrow")),this.each(function(){var f=a(this),i,g;if(b.content?(i=b.content):(i=f.attr(b.attribute)),i!=""){b.content||f.removeAttr(b.attribute),g=!1,b.activation=="hover"?(f.hover(function(){j()},function(){b.keepAlive||h()}),b.keepAlive&&c.hover(function(){},function(){h()})):b.activation=="focus"?f.focus(function(){j()}).blur(function(){h()}):b.activation=="click"&&(f.click(function(){return j(),!1}).hover(function(){},function(){b.keepAlive||h()}),b.keepAlive&&c.hover(function(){},function(){h()}));function j(){var l,n,v,p,m,k,r,y,q,j,h,o,t,w,x,s,u;b.enter.call(this),e.html(i),c.hide().removeAttr("class").css("margin","0"),d.removeAttr("style"),l=parseInt(f.offset().top),n=parseInt(f.offset().left),v=parseInt(f.outerWidth()),p=parseInt(f.outerHeight()),m=c.outerWidth(),k=c.outerHeight(),r=Math.round((v-m)/2),y=Math.round((p-k)/2),q=Math.round(n+r),j=Math.round(l+p+b.edgeOffset),h="",o="",t=Math.round(m-12)/2,b.defaultPosition=="bottom"?h="_bottom":b.defaultPosition=="top"?h="_top":b.defaultPosition=="left"?h="_left":b.defaultPosition=="right"&&(h="_right"),w=r+n<parseInt(a(window).scrollLeft()),x=m+n>parseInt(a(window).width()),w&&r<0||h=="_right"&&!x||h=="_left"&&n<m+b.edgeOffset+5?(h="_right",o=Math.round(k-13)/2,t=-12,q=Math.round(n+v+b.edgeOffset),j=Math.round(l+y)):(x&&r<0||h=="_left"&&!w)&&(h="_left",o=Math.round(k-13)/2,t=Math.round(m),q=Math.round(n-(m+b.edgeOffset+5)),j=Math.round(l+y)),s=l+p+b.edgeOffset+k+8>parseInt(a(window).height()+a(window).scrollTop()),u=l+p-(b.edgeOffset+k+8)<0,s||h=="_bottom"&&s||h=="_top"&&!u?(h=="_top"||h=="_bottom"?h="_top":h=h+"_top",o=k,j=Math.round(l-(k+5+b.edgeOffset))):(u|(h=="_top"&&u)||h=="_bottom"&&!s)&&(h=="_top"||h=="_bottom"?h="_bottom":h=h+"_bottom",o=-12,j=Math.round(l+p+b.edgeOffset)),h=="_right_top"||h=="_left_top"?j=j+5:(h=="_right_bottom"||h=="_left_bottom")&&(j=j-5),(h=="_left_top"||h=="_left_bottom")&&(q=q+5),d.css({"margin-left":t+"px","margin-top":o+"px"}),c.css({"margin-left":q+"px","margin-top":j+"px"}).attr("class","tip"+h),g&&clearTimeout(g),g=setTimeout(function(){c.stop(!0,!0).fadeIn(b.fadeIn)},b.delay)}function h(){b.exit.call(this),g&&clearTimeout(g),c.fadeOut(b.fadeOut)}}})}})(jQuery)