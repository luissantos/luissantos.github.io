!function(c){var a=jQuery.fn.revolution,b=a.is_mobile();jQuery.extend(!0,a,{checkForParallax:function(e,d){var c=d.parallax,f;if(b&&"on"==c.disable_onmobile)return!1;("3D"==c.type||"3d"==c.type)&&(punchgs.TweenLite.set(d.c,{overflow:c.ddd_overflow}),punchgs.TweenLite.set(d.ul,{overflow:c.ddd_overflow}),"carousel"!=d.sliderType&&"on"==c.ddd_shadow&&(d.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(d.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0}))),d.li.each(function(){var a=jQuery(this),b,e,f;("3D"==c.type||"3d"==c.type)&&(a.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),a.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+c.ddd_layer_overflow+';"></div>'),a.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>'),b=a.find(".dddwrapper"),e=a.find(".dddwrapper-layer"),f=a.find(".dddwrapper-layertobggroup"),f.appendTo(b),"carousel"==d.sliderType&&("on"==c.ddd_shadow&&b.addClass("dddwrappershadow"),punchgs.TweenLite.set(b,{borderRadius:d.carousel.border_radius})),punchgs.TweenLite.set(a,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(b,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(e,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(d.ul,{transformStyle:"preserve-3d",transformPerspective:1600}))});for(f=1;f<=c.levels.length;f++)d.c.find(".rs-parallaxlevel-"+f).each(function(){var b=jQuery(this),a=b.closest(".tp-parallax-wrap");a.data("parallaxlevel",c.levels[f-1]),a.addClass("tp-parallax-container")});("mouse"==c.type||"scroll+mouse"==c.type||"mouse+scroll"==c.type||"3D"==c.type||"3d"==c.type)&&(e.mouseenter(function(a){var b=e.find(".active-revslide"),c=e.offset().top,d=e.offset().left,f=a.pageX-d,g=a.pageY-c;b.data("enterx",f),b.data("entery",g)}),e.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(a,k){var b=k&&k.li?k.li:e.find(".active-revslide"),g,h,o,n,f,i,j,l,m;"enterpoint"==c.origo?(g=e.offset().top,h=e.offset().left,void 0==b.data("enterx")&&b.data("enterx",a.pageX-h),void 0==b.data("entery")&&b.data("entery",a.pageY-g),o=b.data("enterx")||a.pageX-h,n=b.data("entery")||a.pageY-g,f=o-(a.pageX-h),i=n-(a.pageY-g),j=c.speed/1e3||.4):(g=e.offset().top,h=e.offset().left,f=d.conw/2-(a.pageX-h),i=d.conh/2-(a.pageY-g),j=c.speed/1e3||3),"mouseleave"==a.type&&(f=c.ddd_lasth||0,i=c.ddd_lastv||0,j=1.5),l=[],(b.find(".tp-parallax-container").each(function(a){l.push(jQuery(this))}),e.find(".tp-static-layers .tp-parallax-container").each(function(){l.push(jQuery(this))}),jQuery.each(l,function(){var a=jQuery(this),b=parseInt(a.data("parallaxlevel"),0),d="3D"==c.type||"3d"==c.type?b/200:b/100,e=f*d,g=i*d;"scroll+mouse"==c.type||"mouse+scroll"==c.type?punchgs.TweenLite.to(a,j,{force3D:"auto",x:e,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(a,j,{force3D:"auto",x:e,y:g,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==c.type||"3d"==c.type)&&(m=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer","carousel"===d.sliderType&&(m=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),d.c.find(m).each(function(){var b=jQuery(this),e=c.levels[c.levels.length-1]/200,g=f*e,h=i*e,m=0==d.conw?0:Math.round(f/d.conw*e*100)||0,n=0==d.conh?0:Math.round(i/d.conh*e*100)||0,o=b.closest("li"),k=0,l=!1;b.hasClass("dddwrapper-layer")&&(k=c.ddd_z_correction||65,l=!0),b.hasClass("dddwrapper-layer")&&(g=0,h=0),o.hasClass("active-revslide")||"carousel"!=d.sliderType?"on"!=c.ddd_bgfreeze||l?punchgs.TweenLite.to(b,j,{rotationX:n,rotationY:-m,x:g,z:k,y:h,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(b,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(b,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))}),b&&(window.ondeviceorientation=function(a){var b=Math.round(a.beta||0)-70,f=Math.round(a.gamma||0),m=e.find(".active-revslide"),n,o,l,h,i,j,g,k;jQuery(window).width()>jQuery(window).height()&&(n=f,f=b,b=n),o=e.width(),l=e.height(),h=360/o*f,i=180/l*b,j=c.speed/1e3||3,g=[],(m.find(".tp-parallax-container").each(function(a){g.push(jQuery(this))}),e.find(".tp-static-layers .tp-parallax-container").each(function(){g.push(jQuery(this))}),jQuery.each(g,function(){var a=jQuery(this),c=parseInt(a.data("parallaxlevel"),0),b=c/100,d=h*b*2,e=i*b*4;punchgs.TweenLite.to(a,j,{force3D:"auto",x:d,y:e,ease:punchgs.Power3.easeOut,overwrite:"all"})}),"3D"==c.type||"3d"==c.type)&&(k=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer","carousel"===d.sliderType&&(k=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer"),d.c.find(k).each(function(){var b=jQuery(this),e=c.levels[c.levels.length-1]/200;offsh=h*e,offsv=i*e*3,offrv=0==d.conw?0:Math.round(h/d.conw*e*500)||0,offrh=0==d.conh?0:Math.round(i/d.conh*e*700)||0,li=b.closest("li"),zz=0,itslayer=!1,b.hasClass("dddwrapper-layer")&&(zz=c.ddd_z_correction||65,itslayer=!0),b.hasClass("dddwrapper-layer")&&(offsh=0,offsv=0),li.hasClass("active-revslide")||"carousel"!=d.sliderType?"on"!=c.ddd_bgfreeze||itslayer?punchgs.TweenLite.to(b,j,{rotationX:offrh,rotationY:-offrv,x:offsh,z:zz,y:offsv,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(b,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(b,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),"mouseleave"==a.type&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))})),a.scrollTicker(d,e)},scrollTicker:function(c,d){1!=c.scrollTicker&&(c.scrollTicker=!0,b?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",function(){a.scrollHandling(c)},d,!1,1)):jQuery(window).on("scroll mousewheel DOMMouseScroll",function(){a.scrollHandling(c,!0)})),a.scrollHandling(c,!0)},scrollHandling:function(c,l){var k,i,d,e,f,g,h,j;function m(a,b){a.lastscrolltop=b}if(c.lastwindowheight=c.lastwindowheight||jQuery(window).height(),k=c.c.offset().top,i=jQuery(window).scrollTop(),d=new Object,e=c.viewPort,f=c.parallax,c.lastscrolltop==i&&!c.duringslidechange&&!l)return!1;if(punchgs.TweenLite.delayedCall(.2,m,[c,i]),d.top=k-i,d.h=0==c.conh?c.c.height():c.conh,d.bottom=k-i+d.h,g=d.top<0?d.top/d.h:d.bottom>c.lastwindowheight?(d.bottom-c.lastwindowheight)/d.h:0,(c.scrollproc=g,a.callBackHandling&&a.callBackHandling(c,"parallax","start"),e.enable)&&(h=1-Math.abs(g),h=0>h?0:h,jQuery.isNumeric(e.visible_area)||-1!==e.visible_area.indexOf("%")&&(e.visible_area=parseInt(e.visible_area)/100),1-e.visible_area<=h?c.inviewport||(c.inviewport=!0,a.enterInViewPort(c)):c.inviewport&&(c.inviewport=!1,a.leaveViewPort(c))),b&&"on"==c.parallax.disable_onmobile)return!1;j=new punchgs.TimelineLite,j.pause(),"3d"!=f.type&&"3D"!=f.type&&(("scroll"==f.type||"scroll+mouse"==f.type||"mouse+scroll"==f.type)&&c.c.find(".tp-parallax-container").each(function(e){var a=jQuery(this),d=parseInt(a.data("parallaxlevel"),0)/100,b=g*-(d*c.conh)||0;a.data("parallaxoffset",b),j.add(punchgs.TweenLite.set(a,{force3D:"auto",y:b}),0)}),c.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var b=jQuery(this),a=b.data("bgparallax")||c.parallax.bgparallax,e,d;(a="on"==a?1:a,void 0!==a||"off"!==a)&&(e=c.parallax.levels[parseInt(a,0)-1]/100,d=g*-(e*c.conh)||0,jQuery.isNumeric(d)&&j.add(punchgs.TweenLite.set(b,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:d+"px"}),0))})),a.callBackHandling&&a.callBackHandling(c,"parallax","end"),j.play(0)}})}(jQuery)