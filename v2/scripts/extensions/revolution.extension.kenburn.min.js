!function(){var a=jQuery.fn.revolution;jQuery.extend(!0,a,{stopKenBurn:function(a){void 0!=a.data("kbtl")&&a.data("kbtl").pause()},startKenBurn:function(a,e,f){var b=a.data(),g=a.find(".defaultimg"),m=g.data("lazyload")||g.data("src"),j=(b.owidth/b.oheight,"carousel"===e.sliderType?e.carousel.slide_width:e.ul.width()),o=e.ul.height(),i,k,l,h,n,c,d;a.data("kbtl")&&a.data("kbtl").kill(),f=f||0,0==a.find(".tp-kbimg").length&&(a.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+m+'" style="position:absolute;" width="'+b.owidth+'" height="'+b.oheight+'"></div>'),a.data("kenburn",a.find(".tp-kbimg"))),i=function(i,j,d,g,h,f,b){var c=i*d,e=j*d,k=Math.abs(g-c),l=Math.abs(h-e),a=new Object;return a.l=(0-f)*k,a.r=a.l+c,a.t=(0-b)*l,a.b=a.t+e,a.h=f,a.v=b,a},k=function(h,f,g,j,b){var a=h.bgposition.split(" ")||"center center",c="center"==a[0]?"50%":"left"==a[0]||"left"==a[1]?"0%":"right"==a[0]||"right"==a[1]?"100%":a[0],d="center"==a[1]?"50%":"top"==a[0]||"top"==a[1]?"0%":"bottom"==a[0]||"bottom"==a[1]?"100%":a[1],e;return c=parseInt(c,0)/100||0,d=parseInt(d,0)/100||0,e=new Object,e.start=i(b.start.width,b.start.height,b.start.scale,f,g,c,d),e.end=i(b.start.width,b.start.height,b.end.scale,f,g,c,d),e},l=function(g,f,b){var m=b.scalestart/100,i=b.scaleend/100,c=void 0!=b.oofsetstart?b.offsetstart.split(" ")||[0,0]:[0,0],d=void 0!=b.offsetend?b.offsetend.split(" ")||[0,0]:[0,0],a,q,p,o,e,n,l,j,h;return b.bgposition="center center"==b.bgposition?"50% 50%":b.bgposition,a=new Object,q=g*m,p=(q/b.owidth*b.oheight,g*i),p/b.owidth*b.oheight,(a.start=new Object,a.starto=new Object,a.end=new Object,a.endo=new Object,a.start.width=g,a.start.height=a.start.width/b.owidth*b.oheight,a.start.height<f)&&(o=f/a.start.height,a.start.height=f,a.start.width=a.start.width*o),a.start.transformOrigin=b.bgposition,a.start.scale=m,a.end.scale=i,a.start.rotation=b.rotatestart+"deg",a.end.rotation=b.rotateend+"deg",e=k(b,g,f,c,a),c[0]=parseFloat(c[0])+e.start.l,d[0]=parseFloat(d[0])+e.end.l,c[1]=parseFloat(c[1])+e.start.t,d[1]=parseFloat(d[1])+e.end.t,n=e.start.r-e.start.l,l=e.start.b-e.start.t,j=e.end.r-e.end.l,h=e.end.b-e.end.t,c[0]=c[0]>0?0:n+c[0]<g?g-n:c[0],d[0]=d[0]>0?0:j+d[0]<g?g-j:d[0],c[1]=c[1]>0?0:l+c[1]<f?f-l:c[1],d[1]=d[1]>0?0:h+d[1]<f?f-h:d[1],a.starto.x=c[0]+"px",a.starto.y=c[1]+"px",a.endo.x=d[0]+"px",a.endo.y=d[1]+"px",a.end.ease=a.endo.ease=b.ease,a.end.force3D=a.endo.force3D=!0,a},void 0!=a.data("kbtl")&&(a.data("kbtl").kill(),a.removeData("kbtl")),h=a.data("kenburn"),n=h.parent(),c=l(j,o,b),d=new punchgs.TimelineLite,d.pause(),c.start.transformOrigin="0% 0%",c.starto.transformOrigin="0% 0%",d.add(punchgs.TweenLite.fromTo(h,b.duration/1e3,c.start,c.end),0),d.add(punchgs.TweenLite.fromTo(n,b.duration/1e3,c.starto,c.endo),0),d.progress(f),d.play(),a.data("kbtl",d)}})}(jQuery)